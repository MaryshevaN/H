#include <stdio.h>
#include <malloc.h>
#include <stdlib.h>

int main()
{
  int *a;
  int n;
  int i, j, m = 0;

  printf("Введите количество вершин: ");
  scanf("%d", &n);

  int g[n];
  a = (int*)malloc(n*n * sizeof(int));

for (i = 0; i < n; ++i) { //цикл по строкам матрицы
  for (j = 0; j < n; ++j) //цикл по столбцам матрицы
    if (j != i) { 
        *(a + i*n + j) = 0;
        g[j] = *(a + i*n + j);
    } else {
        *(a + i*n + j) = 0;
        g[j] = *(a + i*n + j);
      }
   }  
// Вывод матрицы смежности
  for (i = 0; i<n; i++) 
  {
    for (j = 0; j<n; j++)  
      printf("%d ", *(a + i*n + j));
      printf("\n");
  }
printf("Добавим ребро ");
printf("\n");

// Добавим ребро 
for (i = 0; i < n; ++i) {
  for (j = 0; j < n; ++j)
   if ((j == 0 && i == 1 )||(j == 1 && i == 0 )){
       *(a + i*n + j) = 1;
       g[j] = *(a + i*n + j);

       }
}


// Вывод матрицы смежности
  for (i = 0; i<n; i++) 
  {
    for (j = 0; j<n; j++)  
      printf("%d ", *(a + i*n + j));
      printf("\n");
  }

free(a);
return 0;
}
